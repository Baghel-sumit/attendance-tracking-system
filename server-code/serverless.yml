service: aws-node-project
frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs18.x
  region: us-east-1
  timeout: 30
  iam:
    role:
      statements:
        - Effect: "Allow"
          Action:
            - "dynamodb:PutItem"
            - "dynamodb:GetItem"
            - "dynamodb:Query"
            - "dynamodb:DeleteItem"
            - "dynamodb:Scan"
            - "s3:GetObject"
            - "s3:PutObject"
            - "s3:DeleteObject"
          Resource: "*"
  environment:
    IS_PROD: ${param:IS_PROD}

params:
  default:
    IS_PROD: false
  prod:
    IS_PROD: true
  dev:
    IS_PROD: false
    BASE_URL: "*"

plugins:
  - serverless-offline

functions:
  firstLambda:
    handler: lambda-functions/index.fistLambda
    events:
      - http: 
          path: /api/v1/firstLambda
          method: post
          cors: true
  secondLambda:
    handler: lambda-functions/index.secondLambda
    events:
      - http: 
          path: /api/v1/secondLambda
          method: post
          cors: true
  thirdLambda:
    handler: lambda-functions/index.thirdLambda
    events:
      - http: 
          path: /api/v1/thirdLambda
          method: post
          cors: true